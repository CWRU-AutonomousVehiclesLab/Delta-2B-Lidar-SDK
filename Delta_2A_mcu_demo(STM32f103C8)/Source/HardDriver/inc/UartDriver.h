/*******************************************************************************************/
//文件名:   UartDriver.h
//描述:     UART相关参数定义
//版本:     V3.0
//日期:     2016-08-18
//作者:     JL Wan
/*******************************************************************************************/
#ifndef     _UART_DRIVER_H_
#define     _UART_DRIVER_H_

/*******************************************************************************************/
//Buff长度定义
/*******************************************************************************************/
#define	RX_BUFFER_LEN				256
#define TX_BUFFER_LEN               2048
#define TX_BUFF_MASK                0x7FF

/*******************************************************************************************/
//发送缓存结构定义
/*******************************************************************************************/
typedef struct
{
	uint64_t RIndex;
	uint64_t WIndex;
	u8 Buff[TX_BUFFER_LEN];
}T_TX_BUFF;

/*******************************************************************************************/
//接收缓存结构定义
/*******************************************************************************************/
typedef struct
{
	u8 Rdy;
	u16 Len;
	u8 Buff[RX_BUFFER_LEN + 20];
}T_RX_BUFF;

/*******************************************************************************************/
//外部变量声明
/*******************************************************************************************/
extern T_TX_BUFF TxBuffer;
extern T_RX_BUFF RxBuffer;
/*******************************************************************************************/
//输出函数
/*******************************************************************************************/
u16 CRC16(u8 *Start_Byte,u16 Num_Bytes);
/*******************************************************************************************/
void UpdateUartDmaData(void);
/*******************************************************************************************/
void RxDataComplete(void);
/*******************************************************************************************/
void UartReceive(u8 data);
/*******************************************************************************************/
void SendDataFrame(u8 *Ptr,u16 Len);
/*******************************************************************************************/
void SendResponse(u8 *Ptr,u16 Len);
/*******************************************************************************************/
void ProcessUartRxData(void);
/*******************************************************************************************/
#endif

